<TestSequenceDiagram version="1.3" breakOnFailure="false" tcAnUseId="false" tcId="6213e0bc-6bdb-4ad4-81f3-2a22bc23685f" xmlns="http://www.vector-informatik.de/ITE/TDE/TestSequenceDiagram">
  <Diagram>
    <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
      <diagramcommand>
        <diagramvariables>
          <variables>
            <variable_definition>
              <name>ECU_sim</name>
              <type>int</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>RX_error1</name>
              <type>int</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>RX_error2</name>
              <type>int</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>RX_error3</name>
              <type>int</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>RX_error4</name>
              <type>int</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>curr0</name>
              <type>float</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>curr1</name>
              <type>float</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
            <variable_definition>
              <name>Connection_triggered</name>
              <type>int</type>
              <source>
                <const>0</const>
              </source>
            </variable_definition>
          </variables>
        </diagramvariables>
      </diagramcommand>
    </testdiagramnode>
  </Diagram>
  <Elements>
    <Start id="ea8c8b19-fd2e-410a-a2ec-5f52727f7b1d" x="483.2" y="47.2" />
    <Multiplexer id="bd0c6470-73fc-42e5-8b63-b9e080e3936e" x="356.8" y="81" width="288" />
    <Finalize id="db12f886-3051-41f1-90ef-87c8b7319dad" x="1009.5" y="896.9" />
    <ForEachLoop id="f3b38e04-ffc1-45dc-8958-0b7e109f1a2c" descr="For Each Loop" x="70.1" y="225" width="777.6" height="1000" condition="For Each ECU in SensorSet">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <foreachcommand>
          <foreach>
            <title />
            <loopvar>ECU</loopvar>
            <listparameter>ChParStList_BEGIN_OF_OBJECT|1|SensorSet|END_OF_OBJECT_ChParStList|</listparameter>
          </foreach>
        </foreachcommand>
      </testdiagramnode>
      <ForEachLoop id="554a169a-b8d2-48fe-8cbb-e2b719e5032b" descr="For Each Loop" x="118.7" y="568.3" width="192" height="96" condition="For Each network in Net_list">
        <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <foreachcommand>
            <foreach>
              <title />
              <loopvar>network</loopvar>
              <listparameter>ChParList_BEGIN_OF_OBJECT|1|Net_list|END_OF_OBJECT_ChParList|</listparameter>
            </foreach>
          </foreachcommand>
        </testdiagramnode>
        <Check id="504b07fd-54d3-44d2-b199-4f415f1a0eb5" descr="Trigger check of Networks" x="149.3" y="596.4" width="122" height="40">
          <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0" minRequiredVersion="16">
            <sequencecommand>
              <caplinline>
                <title />
                <code>RX_error1 = canGetRxErrorCount(1);
RX_error2 = canGetRxErrorCount(2);
RX_error3 = canGetRxErrorCount(3);
RX_error4 = canGetRxErrorCount(4);</code>
              </caplinline>
              <statecheck>
                <title />
                <expected>
                  <compare>
                    <value>
                      <variable>RX_error1</variable>
                    </value>
                    <eq>
                      <const>0</const>
                    </eq>
                  </compare>
                  <compare>
                    <value>
                      <variable>RX_error2</variable>
                    </value>
                    <eq>
                      <const>0</const>
                    </eq>
                  </compare>
                  <compare>
                    <value>
                      <variable>RX_error3</variable>
                    </value>
                    <eq>
                      <const>0</const>
                    </eq>
                  </compare>
                  <compare>
                    <value>
                      <variable>RX_error4</variable>
                    </value>
                    <eq>
                      <const>0</const>
                    </eq>
                  </compare>
                </expected>
              </statecheck>
            </sequencecommand>
          </testdiagramnode>
        </Check>
      </ForEachLoop>
      <Check id="4d8ce1a0-e1bf-4526-91c2-5d98a28ae00d" descr="Set ECU to real" x="222.9" y="335.6" width="107" height="26">
        <testdiagramnode version="28" minRequiredVersion="16" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <wait>
              <title />
              <time>
                <value>
                  <const>500</const>
                </value>
                <unit>ms</unit>
              </time>
            </wait>
            <set>
              <title />
              <in>
                <assignment>
                  <sink>
                    <dbobject>$SymbolRef|1|ECU.sim_switch</dbobject>
                  </sink>
                  <source>
                    <const>2</const>
                  </source>
                </assignment>
              </in>
            </set>
            <wait>
              <title />
              <time>
                <value>
                  <const>7</const>
                </value>
                <unit>s</unit>
              </time>
            </wait>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Decision id="e5e7dc7f-447a-4ab1-a4a5-7397218ffbe4" x="109.1" y="233" width="597.4" />
      <Check id="27692f23-2c97-4a89-b1ce-2dc3796e99fc" descr="Skip" x="563.1" y="299" width="96" height="24" />
      <Join id="db97e209-add3-4b52-8346-c97cba6994ec" x="87.2" y="673" width="652.4" />
      <Decision id="ca699567-21ff-47ee-96c2-c39d8a20c245" x="131.3" y="384.1" width="288" />
      <Check id="7bf9344f-a286-482b-bbac-10ee07140204" descr="Set ECU to OFF" x="227.5" y="296" width="96" height="24">
        <testdiagramnode version="28" minRequiredVersion="16" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <wait>
              <title />
              <time>
                <value>
                  <const>500</const>
                </value>
                <unit>ms</unit>
              </time>
            </wait>
            <set>
              <title />
              <in>
                <assignment>
                  <sink>
                    <dbobject>$SymbolRef|1|ECU.sim_switch</dbobject>
                  </sink>
                  <source>
                    <const>0</const>
                  </source>
                </assignment>
              </in>
            </set>
            <wait>
              <title />
              <time>
                <value>
                  <const>2</const>
                </value>
                <unit>s</unit>
              </time>
            </wait>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Check id="4fde09ec-dda0-4e3a-95dd-e005bb0737ed" descr="Fail Current Consumption" x="333.2" y="481.6" width="96" height="24">
        <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <caplinline>
              <title />
              <code>testStepFail();</code>
            </caplinline>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Join id="6413ef86-9dbf-44bd-ac9c-4c664e8f7b77" x="112.6" y="1023.9" width="475" />
      <Check id="2b65a69a-0f92-45d4-8b82-d809d658c738" descr="IsXCPDisconnected?" x="112.2" y="972.7" width="118" height="24">
        <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <caplinline>
              <title />
              <code>if (xcpIsConnected(ECU.ECUname)==0)
{
  testStepPass();
}
else
{
  testStepFail();
  Connection_triggered=1;
}</code>
            </caplinline>
            <wait>
              <title />
              <time>
                <value>
                  <const>1</const>
                </value>
                <unit>s</unit>
              </time>
            </wait>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Check id="07ff18dd-993d-4550-8b5c-9371faefdd04" descr="xcpisconnected?" x="123.5" y="872.6" width="96" height="24">
        <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <caplinline>
              <title />
              <code>if (xcpIsConnected(ECU.ECUname)==1)
{
  testStepPass();
}
else
{
  testStepFail();
  Connection_triggered=1;
}</code>
            </caplinline>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Decision id="dc508872-c7fb-44af-9bd3-588c4b4a291e" x="139.4" y="794.8" width="288" />
      <Check id="d347f27f-0a47-4c98-b859-05ff1ff98125" descr="Set ECU to OFF" x="122.6" y="922.9" width="96" height="24">
        <testdiagramnode version="28" minRequiredVersion="16" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <wait>
              <title />
              <time>
                <value>
                  <const>500</const>
                </value>
                <unit>ms</unit>
              </time>
            </wait>
            <set>
              <title />
              <in>
                <assignment>
                  <sink>
                    <dbobject>$SymbolRef|1|ECU.sim_switch</dbobject>
                  </sink>
                  <source>
                    <const>0</const>
                  </source>
                </assignment>
              </in>
            </set>
            <wait>
              <title />
              <time>
                <value>
                  <const>3</const>
                </value>
                <unit>s</unit>
              </time>
            </wait>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Check id="08c29ade-bc01-4187-be17-0593cb6b03b0" descr="Could not set switch" x="329.6" y="909.8" width="122" height="27">
        <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <caplinline>
              <title />
              <code>testStepFail();</code>
            </caplinline>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Decision id="338bd94d-1ea1-4595-b087-e14063aa21e0" x="143.6" y="725.6" width="493.4" />
      <Check id="ed698d22-46b5-41ad-9736-d708d738afa5" descr="Set ECU to OFF" x="489.6" y="872.8" width="96" height="24">
        <testdiagramnode version="28" minRequiredVersion="16" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <wait>
              <title />
              <time>
                <value>
                  <const>500</const>
                </value>
                <unit>ms</unit>
              </time>
            </wait>
            <set>
              <title />
              <in>
                <assignment>
                  <sink>
                    <dbobject>$SymbolRef|1|ECU.sim_switch</dbobject>
                  </sink>
                  <source>
                    <const>0</const>
                  </source>
                </assignment>
              </in>
            </set>
            <wait>
              <title />
              <time>
                <value>
                  <const>3</const>
                </value>
                <unit>s</unit>
              </time>
            </wait>
          </sequencecommand>
        </testdiagramnode>
      </Check>
      <Check id="4d3a68e9-543e-4ff6-842b-21c402514e49" descr="Reset CAN Statistics" x="152" y="464.8" width="96" height="24">
        <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
          <sequencecommand>
            <caplinline>
              <title />
              <code>canResetStatistics();</code>
            </caplinline>
            <wait>
              <title />
              <time>
                <value>
                  <const>1000</const>
                </value>
                <unit>ms</unit>
              </time>
            </wait>
          </sequencecommand>
        </testdiagramnode>
      </Check>
    </ForEachLoop>
  </Elements>
  <Links>
    <Transition id="43e5ffa1-173c-4c0f-9b14-457cca7064b5" x="500.4" y="76" from="ea8c8b19-fd2e-410a-a2ec-5f52727f7b1d" to="bd0c6470-73fc-42e5-8b63-b9e080e3936e" fromPort="StartPort" toPort="MultiplexerPort" />
    <Transition id="2fb7fc54-2a22-48ed-ae21-418b60ef9a27" partialPathName="SensorSet + XCP testing" conditionOffset="10 -3" x="500.8" y="92.2" from="bd0c6470-73fc-42e5-8b63-b9e080e3936e" to="f3b38e04-ffc1-45dc-8958-0b7e109f1a2c" fromPort="MultiplexerPort" toPort="LoopPort" />
    <Transition id="a41b83fa-2c0e-433f-8c88-9b7756dbadad" condition="( ECU.isReal==0 )" x="611.1" y="257.8" from="e5e7dc7f-447a-4ab1-a4a5-7397218ffbe4" to="27692f23-2c97-4a89-b1ce-2dc3796e99fc" fromPort="OutgoingSwitchPort" toPort="CheckPort">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <ifcommand>
          <ifcondition>
            <title />
            <compare>
              <value>
                <variable>ECU.isReal</variable>
              </value>
              <eq>
                <const>0</const>
              </eq>
            </compare>
          </ifcondition>
        </ifcommand>
      </testdiagramnode>
    </Transition>
    <Transition id="cb91ecb9-bdfb-4b47-92c0-004e32a51f7e" x="611.1" y="323" from="27692f23-2c97-4a89-b1ce-2dc3796e99fc" to="db97e209-add3-4b52-8346-c97cba6994ec" fromPort="CheckPort" toPort="JoinPort" />
    <Transition id="988faeb6-59f9-4ea1-826a-a5e03ec8168c" condition="( ( current_display_Ch1&gt;0.12 ) ) " conditionOffset="30.3 -3" x="200" y="408.9" from="ca699567-21ff-47ee-96c2-c39d8a20c245" to="4d3a68e9-543e-4ff6-842b-21c402514e49" fromPort="OutgoingSwitchPort" toPort="CheckPort">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <ifcommand>
          <ifcondition>
            <title />
            <condition>
              <operator>or</operator>
              <compare>
                <value>
                  <dbobject>SysVar_BEGIN_OF_OBJECT|1|current_display_Ch1|PS|-1|0|END_OF_OBJECT_SysVar|</dbobject>
                </value>
                <gt>
                  <const>0.12</const>
                </gt>
              </compare>
            </condition>
          </ifcondition>
        </ifcommand>
      </testdiagramnode>
    </Transition>
    <Transition id="30f81d80-38cc-4e20-aa02-a836abd1c4d0" isElseBranch="true" condition="Else" x="379.3" y="408.9" from="ca699567-21ff-47ee-96c2-c39d8a20c245" to="4fde09ec-dda0-4e3a-95dd-e005bb0737ed" fromPort="OutgoingSwitchPort" toPort="CheckPort" fromSpot="0.861 1 0 0" />
    <Transition id="5045cdd3-8dcb-4330-9ba8-24991cfbb1b8" x="275.5" y="320" from="7bf9344f-a286-482b-bbac-10ee07140204" to="4d8ce1a0-e1bf-4526-91c2-5d98a28ae00d" fromPort="CheckPort" toPort="CheckPort" />
    <Transition id="220f8fdf-1607-4c38-9971-2af0b6ef886f" x="275.7" y="361.2" from="4d8ce1a0-e1bf-4526-91c2-5d98a28ae00d" to="ca699567-21ff-47ee-96c2-c39d8a20c245" fromPort="CheckPort" toPort="IncomingSwitchPort" />
    <Transition id="723baee9-4320-4be5-a6ef-0c022cc96a20" conditionOffset="24.8 -3" x="381.2" y="505.6" from="4fde09ec-dda0-4e3a-95dd-e005bb0737ed" to="db97e209-add3-4b52-8346-c97cba6994ec" fromPort="CheckPort" toPort="JoinPort" />
    <Transition id="8c7429fa-641b-488d-a5b6-ab886282ab46" condition="( ECU.isReal==1 )" conditionOffset="17 -3" x="275.5" y="257.8" from="e5e7dc7f-447a-4ab1-a4a5-7397218ffbe4" to="7bf9344f-a286-482b-bbac-10ee07140204" fromPort="OutgoingSwitchPort" toPort="CheckPort">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <ifcommand>
          <ifcondition>
            <title />
            <compare>
              <value>
                <variable>ECU.isReal</variable>
              </value>
              <eq>
                <const>1</const>
              </eq>
            </compare>
          </ifcondition>
        </ifcommand>
      </testdiagramnode>
    </Transition>
    <Transition id="a83f5eb6-19e6-4c09-a4c7-798c09b8cfed" x="848.5" y="910.9" from="f3b38e04-ffc1-45dc-8958-0b7e109f1a2c" to="db12f886-3051-41f1-90ef-87c8b7319dad" fromPort="LoopPort" toPort="FinishPort" />
    <Transition id="e2c345e0-b693-4540-9df5-e04c2aa2ea5a" x="214.7" y="665.1" from="554a169a-b8d2-48fe-8cbb-e2b719e5032b" to="db97e209-add3-4b52-8346-c97cba6994ec" fromPort="LoopPort" toPort="JoinPort" />
    <Transition id="f39dceac-01fc-4eda-854a-b4aeb9c51280" x="171.6" y="996.7" from="2b65a69a-0f92-45d4-8b82-d809d658c738" to="6413ef86-9dbf-44bd-ac9c-4c664e8f7b77" fromPort="CheckPort" toPort="JoinPort" />
    <Transition id="26756099-95b8-4b0f-8214-d9552b3bfdbd" condition="( ECU.sim_switch==2 )" conditionOffset="17 -3" x="173.4" y="819.6" from="dc508872-c7fb-44af-9bd3-588c4b4a291e" to="07ff18dd-993d-4550-8b5c-9371faefdd04" fromPort="OutgoingSwitchPort" toPort="CheckPort" fromSpot="0.118 1 0 0">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <ifcommand>
          <ifcondition>
            <title />
            <compare>
              <value>
                <dbobject>$SymbolRef|1|ECU.sim_switch</dbobject>
              </value>
              <eq>
                <const>2</const>
              </eq>
            </compare>
          </ifcondition>
        </ifcommand>
      </testdiagramnode>
    </Transition>
    <Transition id="6de1e446-3e4a-4fa4-aed8-d1488c2396e5" condition="( ECU.isXCP==1 )" conditionOffset="7.6 -3" x="283.8" y="750.4" from="338bd94d-1ea1-4595-b087-e14063aa21e0" to="dc508872-c7fb-44af-9bd3-588c4b4a291e" fromPort="OutgoingSwitchPort" toPort="IncomingSwitchPort">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <ifcommand>
          <ifcondition>
            <title />
            <compare>
              <value>
                <variable>ECU.isXCP</variable>
              </value>
              <eq>
                <const>1</const>
              </eq>
            </compare>
          </ifcondition>
        </ifcommand>
      </testdiagramnode>
    </Transition>
    <Transition id="5930e1c8-bc82-4998-a51a-d925c32802be" x="170.6" y="946.9" from="d347f27f-0a47-4c98-b859-05ff1ff98125" to="2b65a69a-0f92-45d4-8b82-d809d658c738" fromPort="CheckPort" toPort="CheckPort" />
    <Transition id="18aff085-1744-49b5-8503-ac709776a958" x="171.1" y="896.6" from="07ff18dd-993d-4550-8b5c-9371faefdd04" to="d347f27f-0a47-4c98-b859-05ff1ff98125" fromPort="CheckPort" toPort="CheckPort" />
    <Transition id="7b081ba5-523b-4a79-9485-e6e053cf25d3" isElseBranch="true" condition="Else" x="378.5" y="819.6" from="dc508872-c7fb-44af-9bd3-588c4b4a291e" to="08c29ade-bc01-4187-be17-0593cb6b03b0" fromPort="OutgoingSwitchPort" toPort="CheckPort" />
    <Transition id="4e0fed8e-3ce5-451f-80dd-0740304f12f4" x="390.4" y="937" from="08c29ade-bc01-4187-be17-0593cb6b03b0" to="6413ef86-9dbf-44bd-ac9c-4c664e8f7b77" fromPort="CheckPort" toPort="JoinPort" />
    <Transition id="4322d03b-a9f9-4ba4-a7b3-5543b0ea7ae4" x="391.2" y="684.2" from="db97e209-add3-4b52-8346-c97cba6994ec" to="338bd94d-1ea1-4595-b087-e14063aa21e0" fromPort="JoinPort" toPort="IncomingSwitchPort" toSpot="0.5 0 0 0" />
    <Transition id="1681ac1e-43fd-41ef-9fcc-4990d4c18e3c" condition="( ECU.isXCP==0 )" conditionOffset="51.9 -3" x="537.6" y="750.4" from="338bd94d-1ea1-4595-b087-e14063aa21e0" to="ed698d22-46b5-41ad-9736-d708d738afa5" fromPort="OutgoingSwitchPort" toPort="CheckPort">
      <testdiagramnode version="28" xmlns="http://www.vector-informatik.de/ITE/TestTable/1.0">
        <ifcommand>
          <ifcondition>
            <title>if</title>
            <compare>
              <value>
                <variable>ECU.isXCP</variable>
              </value>
              <eq>
                <const>0</const>
              </eq>
            </compare>
          </ifcondition>
        </ifcommand>
      </testdiagramnode>
    </Transition>
    <Transition id="6f4bedb7-6539-49f3-85bd-8bf9a1bcd42c" x="537.6" y="896.8" from="ed698d22-46b5-41ad-9736-d708d738afa5" to="6413ef86-9dbf-44bd-ac9c-4c664e8f7b77" fromPort="CheckPort" toPort="JoinPort" />
    <Transition id="735a2b04-8fca-4945-8151-54642f218272" x="200" y="488.8" from="4d3a68e9-543e-4ff6-842b-21c402514e49" to="554a169a-b8d2-48fe-8cbb-e2b719e5032b" fromPort="CheckPort" toPort="LoopPort" />
  </Links>
</TestSequenceDiagram>